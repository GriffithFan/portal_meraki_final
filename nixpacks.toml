# Nixpacks configuration for Railway
# https://nixpacks.com/docs/configuration/file

[phases.setup]
nixPkgs = ["nodejs_22"]

[phases.install]
cmds = ["cd backend && npm install --omit=dev"]

[phases.build]
cmds = ["cd frontend && npm install && chmod +x node_modules/.bin/* && npm run build"]

[start]
cmd = "cd backend && npm start"
